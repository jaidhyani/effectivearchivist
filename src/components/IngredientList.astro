---
type IngredientItem =
  | { type: "group_header"; group: string }
  | { type: "ingredient"; amount: string; unit: string; name: string; notes?: string };

interface Props {
  items: IngredientItem[];
}

const { items } = Astro.props;
---

<ul class="ingredient-list">
  {items.map((item) => {
    if (item.type === "group_header") {
      return <li class="group-header">{item.group}</li>;
    }
    return (
      <li data-base-amount={item.amount || undefined}>
        {item.amount && <span class="ingredient-amount"><span class="ingredient-amount-value">{item.amount}</span> {item.unit}</span>}{" "}
        {item.name}
        {item.notes && <span class="ingredient-notes"> {item.notes}</span>}
      </li>
    );
  })}
</ul>
